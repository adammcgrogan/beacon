{{define "dashboard"}}
    <h1>Server Overview</h1>
    <div style="background: #1e1e1e; padding: 20px; border-radius: 8px; border: 1px solid #333; width: 300px;">
        <h3>Status: <span style="color: #b5cea8;">Online</span></h3>
        <h3>Players: <span id="stat-players" style="color: #569cd6;">{{.Stats.Players}} / {{.Stats.MaxPlayers}}</span></h3>
        <h3>TPS: <span id="stat-tps" style="color: #dcdcaa;">{{.Stats.TPS}}</span></h3>
        <h3>RAM: <span id="stat-ram" style="color: #ce9178;">{{.Stats.RamUsed}}MB / {{.Stats.RamMax}}MB</span></h3>
    </div>

    <script>
        const ws = new WebSocket('ws://' + window.location.host + '/ws/web');
        ws.onmessage = (event) => {
            const data = JSON.parse(event.data);
            if (data.event === 'server_stats') {
                const stats = data.payload;
                document.getElementById('stat-players').textContent = `${stats.players} / ${stats.max_players}`;
                document.getElementById('stat-tps').textContent = stats.tps;
                document.getElementById('stat-ram').textContent = `${stats.ram_used}MB / ${stats.ram_max}MB`;
            }
        };
    </script>
{{end}}